(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{19:function(t,e,n){},20:function(t,e,n){},40:function(t,e,n){"use strict";n.r(e);var c=n(1),o=n.n(c),s=n(14),a=n.n(s),r=(n(19),n(20),n(4)),l=n(3),i=n.n(l),u=n(0);function j(){var t=Object(c.useState)(null),e=Object(r.a)(t,2),n=e[0],o=e[1],s=Object(c.useState)(!1),a=Object(r.a)(s,2),l=a[0],j=a[1],b=Object(c.useState)(""),h=Object(r.a)(b,2),d=h[0],O=h[1],g=Object(c.useRef)(),f=Object(c.useRef)();Object(c.useEffect)((function(){i.a.get("http://localhost:3001/login").then((function(t){t.data.loggedIn&&j(t.data.user.username)}))}),[]);return Object(u.jsxs)("div",{children:[l&&Object(u.jsxs)("div",{children:["Logged in: ",Object(u.jsx)("span",{style:{fontWeight:"bold"},children:n.username})]}),Object(u.jsx)("label",{htmlFor:"",children:"Username"}),Object(u.jsx)("input",{type:"text",ref:g}),Object(u.jsx)("br",{}),Object(u.jsx)("label",{htmlFor:"",children:"Password"}),Object(u.jsx)("input",{type:"password",ref:f}),Object(u.jsx)("br",{}),Object(u.jsx)("button",{onClick:function(){i.a.post("http://localhost:3001/login",{username:g.current.value,password:f.current.value}).then((function(t){console.log(t.data),t.data.user?(o(t.data.user),j(t.data.auth),O(""),localStorage.setItem("x-access-token",t.data.token)):(j(t.data.auth),O(t.data.message))}))},children:"Login"}),l&&Object(u.jsx)("button",{onClick:function(){var t=localStorage.getItem("x-access-token");console.log("token from local storage: ",t),i.a.get("http://localhost:3001/isUserAuth",{headers:{"x-access-token":t}}).then((function(t){console.log(t)}))},children:"Check if authenticated"}),d,Object(u.jsx)("div",{}),Object(u.jsx)("button",{onClick:function(){i.a.get("http://localhost:3001/createConnection").then((function(t){return console.log(t.data.message)})).catch((function(t){return console.log(t.data.message)}))},children:"Create connection"}),Object(u.jsx)("button",{onClick:function(){i.a.get("http://localhost:3001/closeConnection").then((function(t){return console.log(t.data.message)})).catch((function(t){return console.log(t.data.message)}))},children:"Close connection"})]})}function b(){var t=Object(c.useState)(""),e=Object(r.a)(t,2),n=e[0],o=e[1],s=Object(c.useState)(""),a=Object(r.a)(s,2),l=a[0],j=a[1];return Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{htmlFor:"",children:"Username"}),Object(u.jsx)("input",{type:"text",onChange:function(t){return o(t.target.value)}}),Object(u.jsx)("br",{}),Object(u.jsx)("label",{htmlFor:"",children:"Password"}),Object(u.jsx)("input",{type:"password",onChange:function(t){return j(t.target.value)}}),Object(u.jsx)("br",{}),Object(u.jsx)("button",{onClick:function(){i.a.post("http://localhost:3001/register",{username:n,password:l}).then((function(t){return console.log(t)}))},children:"Register"})]})}i.a.defaults.withCredentials=!0,i.a.defaults.withCredentials=!0;var h=function(){return Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)(j,{}),Object(u.jsx)(b,{})]})};a.a.render(Object(u.jsx)(o.a.StrictMode,{children:Object(u.jsx)(h,{})}),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.6b2c2764.chunk.js.map